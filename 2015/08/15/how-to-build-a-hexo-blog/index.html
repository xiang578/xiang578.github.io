<!DOCTYPE html>
<html lang="en">
  <head>
    
<!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">



  <meta name="description" content="从零开始利用 hexo + Github/Coding 搭建个人博客"/>




  <meta name="keywords" content="blog, hexo, RyenX" />



  <meta name="baidu-site-verification" content="xf6fMthFjE" />



  <meta name="google-site-verification" content="TWXGagJ1F37oqHnV7_lLU_ZDeJ1zzwseILCwLz9Dii8" />






  <link rel="alternate" href="/atom.xml" title="RyenX">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.8.0" />



<link rel="canonical" href="http://xiang578.com/2015/08/15/how-to-build-a-hexo-blog/"/>



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />




  <link rel="stylesheet" type="text/css" href="/lib/nprogress/nprogress.min.css" />



<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.8.0" />



  
  <script id="baidu_analytics">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?d0cbaae42702a7213f06cb394a34a120";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>





  <script src="//cdn1.lncld.net/static/js/3.1.1/av-min.js"></script>
  <script id="leancloud">
    AV.init({
      appId: "rrSjo9LK0keh9l15bYOQScDF-gzGzoHsz",
      appKey: "SHpy5xi5vjhNA7cz7THf03vk"
    });
  </script>




<script>
  window.config = {"title":"RyenX","subtitle":null,"description":null,"author":"RyenX","language":"en","timezone":null,"url":"http://xiang578.com","root":"/","permalink":":year/:month/:day/:title/","permalink_defaults":null,"source_dir":"source","public_dir":"public","tag_dir":"tags","archive_dir":"archives","category_dir":"categories","code_dir":"downloads/code","i18n_dir":":lang","skip_render":["README.md","issue_template.md"],"new_post_name":":title.md","default_layout":"post","titlecase":false,"external_link":true,"filename_case":0,"render_drafts":false,"post_asset_folder":false,"relative_link":false,"future":true,"highlight":{"enable":true,"auto_detect":false,"line_number":true,"tab_replace":null,"first_line_number":"always1"},"default_category":"uncategorized","category_map":null,"tag_map":null,"date_format":"YYYY-MM-DD","time_format":"HH:mm:ss","per_page":0,"pagination_dir":"page","theme":{"color":"Default","toc":true,"fancybox":true,"pjax":true},"deploy":{"type":"git","repository":{"a":"https://github.com/xiang578/xiang578.github.io.git,master","b":"git@git.coding.net:xian578/xiang578.git,master"}},"ignore":[],"index_generator":{"per_page":0,"order_by":"-date","path":""},"archive_generator":{"per_page":0,"yearly":true,"monthly":true,"daily":false},"sitemap":{"path":"sitemap.xml"},"baidusitemap":{"path":"baidusitemap.xml"},"markdown_it_plus":{"highlight":true,"html":true,"xhtmlOut":true,"breaks":true,"langPrefix":null,"linkify":true,"typographer":null,"quotes":"“”‘’","plugins":[{"plugin":{"name":"markdown-it-katex","enable":true}},{"plugin":{"name":"markdown-it-mark","enable":false}}]},"category_generator":{"per_page":0},"feed":{"type":"atom","limit":20,"hub":"","content":true,"content_limit":140,"content_limit_delim":"","path":"atom.xml"},"tag_generator":{"per_page":0},"marked":{"gfm":true,"pedantic":false,"sanitize":false,"tables":true,"breaks":true,"smartLists":true,"smartypants":true,"modifyAnchors":"","autolink":true},"server":{"port":4000,"log":false,"ip":"0.0.0.0","compress":false,"header":true},"since":2015,"favicon":"/favicon.ico","rss":"default","menu":{"Home":null,"Tech":"/tech","Tags":"/tags","Categories":"/categories","About":"/about"},"copyright":{"enable":true,"license":"<a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc/4.0/\" target=\"_blank\">知识共享署名-非商业性使用 4.0 国际许可协议</a>"},"reward":{"enable":false,"qrCode":"/img/wechat.jpg","alipay":"/img/alipay.jpg"},"social":{"email":"i@xiang578.com","stack-overflow":null,"twitter":"https://twitter.com/xiang578","facebook":"https://www.facebook.com/profile.php?id=100009528134157","linkedin":"https://www.linkedin.com/in/%E9%97%B0%E5%86%B6-%E9%A1%B9-a2b708134/","google":null,"github":"https://github.com/xiang578","weibo":"https://weibo.com/u/1630193304","zhihu":"https://www.zhihu.com/people/xiang578/activities","douban":"https://www.douban.com/people/xiang578/","pocket":null,"tumblr":null,"instagram":null},"leancloud":{"app_id":"rrSjo9LK0keh9l15bYOQScDF-gzGzoHsz","app_key":"SHpy5xi5vjhNA7cz7THf03vk"},"baidu_analytics":"d0cbaae42702a7213f06cb394a34a120","baidu_verification":"xf6fMthFjE","google_analytics":null,"google_verification":"TWXGagJ1F37oqHnV7_lLU_ZDeJ1zzwseILCwLz9Dii8","disqus_shortname":"xiang578","changyan":{"appid":null,"appkey":null},"baidu_push":true,"livere_datauid":null,"version":"2.8.0"};
</script>

    <title> 从零开始利用 hexo + Github/Coding 搭建个人博客 - RyenX </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="mobile-header-logo">
    <a href="/." class="logo">RyenX</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/tech">
        <li class="mobile-menu-item">
          
          
            Tech
          
        </li>
      </a>
    
      <a href="/tags">
        <li class="mobile-menu-item">
          
          
            Tags
          
        </li>
      </a>
    
      <a href="/categories">
        <li class="mobile-menu-item">
          
          
            Categories
          
        </li>
      </a>
    
      <a href="/about">
        <li class="mobile-menu-item">
          
          
            About
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">RyenX</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              Home
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/tech">
            
            
              Tech
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            
            
              Tags
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories">
            
            
              Categories
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/about">
            
            
              About
            
          </a>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          从零开始利用 hexo + Github/Coding 搭建个人博客
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2015-08-15
        </span>
        
          <div class="post-category">
            
              <a href="/categories/程序园/">程序园</a>
            
          </div>
        
        
        <div class="post-visits"
             data-url="/2015/08/15/how-to-build-a-hexo-blog/"
             data-title="从零开始利用 hexo + Github/Coding 搭建个人博客">
            阅读次数 0
          </div>
        
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装git和Node-js"><span class="toc-text">安装git和Node.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装hexo"><span class="toc-text">安装hexo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#部署hexo"><span class="toc-text">部署hexo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装依赖包"><span class="toc-text">安装依赖包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第一次本地查看博客"><span class="toc-text">第一次本地查看博客</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#github相关部署和ssh设置"><span class="toc-text">github相关部署和ssh设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#发布功能部署"><span class="toc-text">发布功能部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装主题（以NexT为例）"><span class="toc-text">安装主题（以NexT为例）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#启用主题"><span class="toc-text">启用主题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#主题优化"><span class="toc-text">主题优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#next主题404页面改造"><span class="toc-text">next主题404页面改造</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多说评论改造"><span class="toc-text">多说评论改造</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#域名绑定"><span class="toc-text">域名绑定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#为-next-主题添加分类"><span class="toc-text">为 next 主题添加分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#去除-Coding-Pages-等待跳转页面"><span class="toc-text">去除 Coding Pages 等待跳转页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改Even主题的首页"><span class="toc-text">修改Even主题的首页</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加文章统计"><span class="toc-text">添加文章统计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改页脚"><span class="toc-text">修改页脚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#双更新"><span class="toc-text">双更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自动备份博客相关的源文件"><span class="toc-text">自动备份博客相关的源文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参考文章："><span class="toc-text">参考文章：</span></a></li></ol>
    </div>
  </div>


    <div class="post-content">
      
        <blockquote>
<p>更新历史</p>
<ul>
<li>2015年8月15日：完成初稿</li>
<li>2017年10月05日：添加新主题 <code>Even</code> 相关内容</li>
<li>2017年10月11日：文章阅读次数统计</li>
<li>2018年1月19日： 修改页脚</li>
<li>2018年3月26日：双更新</li>
</ul>
</blockquote>
<hr>
<p>前几天自己在电脑上装Linux时，不小心把博客的数据文件夹给删了。无奈重新安装，同时写下这篇备忘录以防万一。当然，经历这个失误，看来也要利用网盘对博客的一些文件进行备份。</p>
<a id="more"></a>
<h3 id="安装git和Node-js"><a href="#安装git和Node-js" class="headerlink" title="安装git和Node.js"></a>安装git和Node.js</h3><p> 就是正常的在他们官网上下载最新版本，然后再点几下鼠标安装到你的电脑。不过，也许后面安装hexo时要设置node.js的环境变量，具体过程也可以百度到。</p>
<h3 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h3><p>打开gitbash（可能需要以管理员身份运行），利用npm命令安装。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo</span><br></pre></td></tr></table></figure>
<p>安装成功后大概会在shell中出现下面这样的信息<br><img src="http://7xkpe5.com1.z0.glb.clouddn.com/安装hexo.jpg" alt=""></p>
<h3 id="部署hexo"><a href="#部署hexo" class="headerlink" title="部署hexo"></a>部署hexo</h3><p>比如我要安装在E盘hexo文件夹内，可以在gitbash中使用下面命令进行。如果你想明白这些命令是什么意思，可以百度cmd指令。（如无特殊说明，下面有的命令都在<code>/E/hexo</code>中使用gitbash完成）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd /E/hexo</span><br><span class="line">$ npm install hexo init</span><br></pre></td></tr></table></figure>
<p>安装成功后大概会在shell中出现下面这样的信息<br><img src="http://7xkpe5.com1.z0.glb.clouddn.com/部署hexo.jpg" alt=""></p>
<h3 id="安装依赖包"><a href="#安装依赖包" class="headerlink" title="安装依赖包"></a>安装依赖包</h3><p>基础功能包，采用下面的命令安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install</span><br></pre></td></tr></table></figure>
<p>deploy git功能相关插件，网上发布时用的……</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<p>附加功能有sitemap和feed插件，如果你不懂这些也没有必要安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-generator-sitemap</span><br><span class="line">$ npm install hexo-generator-feed</span><br></pre></td></tr></table></figure>
<h3 id="第一次本地查看博客"><a href="#第一次本地查看博客" class="headerlink" title="第一次本地查看博客"></a>第一次本地查看博客</h3><p>执行以下命令，然后到浏览器输入localhost:4000查看。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g</span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure>
<p>默认大概是下面的样子<br><img src="http://7xkpe5.com1.z0.glb.clouddn.com/第一次本地查看.jpg" alt=""></p>
<h3 id="github相关部署和ssh设置"><a href="#github相关部署和ssh设置" class="headerlink" title="github相关部署和ssh设置"></a>github相关部署和ssh设置</h3><p>我的这些功能还可以用，所以没有重新设置。故不能详细论述，你可从下面参考链接中获得方法。</p>
<h3 id="发布功能部署"><a href="#发布功能部署" class="headerlink" title="发布功能部署"></a>发布功能部署</h3><p>编辑站点的<code>_config.yml</code>文件。你在部署时，要把下面的xiang578都换成你的账号名。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy: </span><br><span class="line">type: git</span><br><span class="line">repository: https://github.com/xiang578/xiang578.github.io.git</span><br><span class="line">branch: master</span><br></pre></td></tr></table></figure>
<p>执行下列指令即可完成部署，中间需要输入github用户名和密码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo generate hexo deploy</span><br></pre></td></tr></table></figure>
<h3 id="安装主题（以NexT为例）"><a href="#安装主题（以NexT为例）" class="headerlink" title="安装主题（以NexT为例）"></a>安装主题（以NexT为例）</h3><p>使用gitbash输入下面指令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd your-hexo-site</span><br><span class="line">$ git clone https://github.com/iissnan/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>
<h3 id="启用主题"><a href="#启用主题" class="headerlink" title="启用主题"></a>启用主题</h3><p>修改Hexo目录下的config.yml配置文件中的theme属性，将其设置为next。运行<code>hexo g</code>和<code>hexo s</code>，并访问 <a href="http://localhost:4000，确保站点正确运行。" target="_blank" rel="noopener">http://localhost:4000，确保站点正确运行。</a></p>
<h3 id="主题优化"><a href="#主题优化" class="headerlink" title="主题优化"></a>主题优化</h3><p>参考相关主题的说明文档进行优化，或者访问使用相同主题的博客，查看博主相关文章。或者速成css和html自己改造。</p>
<h3 id="next主题404页面改造"><a href="#next主题404页面改造" class="headerlink" title="next主题404页面改造"></a>next主题404页面改造</h3><p><code>E:\hexo\public</code>中创建404.html文件，复制下面代码，并保存，在配置文件中启用相关功能。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE HTML&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>404 - arao'blog<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"404错误，页面不存在！"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"content-type"</span> <span class="attr">content</span>=<span class="string">"text/html;charset=utf-8;"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge,chrome=1"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"robots"</span> <span class="attr">content</span>=<span class="string">"all"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"robots"</span> <span class="attr">content</span>=<span class="string">"index,follow"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"http://qzonestyle.gtimg.cn/qzone_v6/lostchild/search_children.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果如下：<br><img src="http://7xkpe5.com1.z0.glb.clouddn.com/404.jpg" alt=""></p>
<h3 id="多说评论改造"><a href="#多说评论改造" class="headerlink" title="多说评论改造"></a>多说评论改造</h3><p>参考<a href="http://www.arao.me/2015/hexo-next-theme-optimize-duoshuo/" target="_blank" rel="noopener"> 动动手指，给你的Hexo站点添加最近访客（多说篇）</a></p>
<p>效果如下：<img src="http://7xkpe5.com1.z0.glb.clouddn.com/多说.jpg" alt=""></p>
<h3 id="域名绑定"><a href="#域名绑定" class="headerlink" title="域名绑定"></a>域名绑定</h3><p>域名可以在<a href="http://wanwang.aliyun.com/" target="_blank" rel="noopener">万网</a>上购买，大体上流程和淘宝购物差不多。现在大部分域名第一年价格比较便宜，续费也可以接受。当然如果你非要买<code>.集团</code>这种上万的域名，那么请联系我，土豪做个朋友吧！域名是有兴趣可以选择购买，采用默认的<code>github.io</code>也不错。</p>
<p>首先在<code>E:hexo\public</code>文件夹下创建名为<code>CNAME</code>文件（不要扩展名）接着输入你的域名。比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xiang578.top</span><br><span class="line">www.xiang578.top</span><br></pre></td></tr></table></figure>
<p>接着在万网的域名控制台增加如下图所示的两个解析<br><img src="http://7xkpe5.com1.z0.glb.clouddn.com/域名设置.jpg" alt=""></p>
<h3 id="为-next-主题添加分类"><a href="#为-next-主题添加分类" class="headerlink" title="为 next 主题添加分类"></a>为 next 主题添加分类</h3><p>参考知乎<a href="https://www.zhihu.com/question/33324071" target="_blank" rel="noopener">hexo下新建页面下如何放多个文章？</a></p>
<h3 id="去除-Coding-Pages-等待跳转页面"><a href="#去除-Coding-Pages-等待跳转页面" class="headerlink" title="去除 Coding Pages 等待跳转页面"></a>去除 Coding Pages 等待跳转页面</h3><p>根据常识，只需要修改主题下面跟页脚相关的代码即可。比如 <code>Even</code> 主题中相关的代码在 <code>themes/even/layout/_partial/footer.swig</code>。</p>
<p>然后在这个文件中添加如下的代码即可。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"hosted-by-coding-pages"</span>&gt;</span></span><br><span class="line">    Hosted by <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://pages.coding.me"</span> <span class="attr">style</span>=<span class="string">"font-weight: bold"</span>&gt;</span>Coding Pages<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>最后，在项目的 Pages 服务中勾选<code>已放置 Hosted by Coding Pages</code>，等待审核通过就去除等待跳转页面。</p>
<h3 id="修改Even主题的首页"><a href="#修改Even主题的首页" class="headerlink" title="修改Even主题的首页"></a>修改Even主题的首页</h3><p>不知道为什么，我不是很喜欢首页那种标题和文章摘要的形式。所以，决定把首页改造成归档页面的形式。</p>
<p>这步改造的思路是将生成归档页面相关的代码复制到生成首页的模板上去。在 <code>themes/even/layout</code> 文件夹里面修改<code>index.swig</code>，具体如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &quot;_layout.swig&quot; %&#125;</span><br><span class="line">&#123;% import &apos;_macro/post.swig&apos; as post_template %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block title %&#125; &#123;&#123; config.title &#125;&#125; &#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">  &lt;section id=&quot;posts&quot; class=&quot;posts&quot;&gt;</span><br><span class="line">    &lt;section id=&quot;archive&quot; class=&quot;archive&quot;&gt;</span><br><span class="line">    &#123;% if not page.prev %&#125;</span><br><span class="line">        &lt;div class=&quot;archive-title&quot;&gt;</span><br><span class="line">          &lt;span class=&quot;archive-post-counter&quot;&gt;</span><br><span class="line">            &#123;&#123; _p(&quot;counter.archives&quot;, site.posts.length) &#125;&#125;</span><br><span class="line">          &lt;/span&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line">    &#123;% for post in page.posts %&#125;</span><br><span class="line">        &#123;% set year %&#125;</span><br><span class="line">        &#123;% set post.year = date(post.date, &apos;YYYY&apos;) %&#125;</span><br><span class="line"></span><br><span class="line">        &#123;% if post.year !== year %&#125;</span><br><span class="line">          &#123;% set year = post.year %&#125;</span><br><span class="line">          &lt;div class=&quot;collection-title&quot;&gt;</span><br><span class="line">            &lt;h2 class=&quot;archive-year&quot;&gt;&#123;&#123; year &#125;&#125;&lt;/h2&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line">      &lt;div class=&quot;archive-post&quot;&gt;</span><br><span class="line">        &lt;span class=&quot;archive-post-time&quot;&gt;</span><br><span class="line">            &#123;&#123; date(post.date, &apos;MM-DD&apos;) &#125;&#125;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;span class=&quot;archive-post-title&quot;&gt;</span><br><span class="line">          &lt;a href=&quot;&#123;&#123; url_for(post.path) &#125;&#125;&quot; class=&quot;archive-post-link&quot;&gt;</span><br><span class="line">            &#123;&#123; post.title &#125;&#125;</span><br><span class="line">          &lt;/a&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">  &lt;/section&gt;</span><br><span class="line"></span><br><span class="line">  &#123;% include &quot;_partial/pagination.swig&quot; %&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure>
<p>如果需要在首页显示所有的文章，可以参考 <a href="http://theme-next.iissnan.com/faqs.html#setting-page-size" target="_blank" rel="noopener">如何设置页面文章的篇数？</a> 安装需要的插件，将 <code>per_page</code> 设置为0即可解决。</p>
<h3 id="添加文章统计"><a href="#添加文章统计" class="headerlink" title="添加文章统计"></a>添加文章统计</h3><ul>
<li>参考 <a href="https://github.com/ahonn/hexo-theme-even/wiki/%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E8%AE%BF%E9%97%AE%E9%87%8F%E7%BB%9F%E8%AE%A1" target="_blank" rel="noopener">添加文章访问量统计</a>以及 <a href="http://www.joryhe.com/2016-05-29-how_to_create_leancloud_read_Counter.html" target="_blank" rel="noopener">leanCloud,实现文章阅读量统计</a></li>
<li>自己使用时发现一个问题：每篇文章只有第一次打开时才显示阅读次数，而且计数都为1<ul>
<li>参考<a href="http://www.jianshu.com/p/702a7aec4d00" target="_blank" rel="noopener">Hexo搭建博客系列：（五）Hexo添加不蒜子和LeanCloud统计无标题文章</a>中提到的创建 class 需要 <code>数据条目的默认 ACL 权限</code> 中选择无限制</li>
</ul>
</li>
</ul>
<h3 id="修改页脚"><a href="#修改页脚" class="headerlink" title="修改页脚"></a>修改页脚</h3><p>未修改之前的页脚相关代码(<code>themes/even/layout/_partial/footer.swig</code>)</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"copyright"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"hosted-by-coding-pages"</span>&gt;</span></span><br><span class="line">    Hosted by <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://pages.coding.me"</span> <span class="attr">style</span>=<span class="string">"font-weight: bold"</span>&gt;</span>Coding Pages<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"division"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"theme-info"</span>&gt;</span></span><br><span class="line">    &#123;&#123; __('footer.theme') &#125;&#125; -</span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"theme-link"</span> <span class="attr">href</span>=<span class="string">"https://github.com/ahonn/hexo-theme-even"</span>&gt;</span>Even<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"copyright-year"</span>&gt;</span></span><br><span class="line">    &#123;% set current = date(Date.now(), "YYYY") %&#125;</span><br><span class="line">    &amp;copy;</span><br><span class="line">    &#123;% if theme.since and theme.since != current %&#125;</span><br><span class="line">      &#123;&#123; theme.since &#125;&#125; -</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">    &#123;&#123; current &#125;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"heart"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont icon-heart"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"author"</span>&gt;</span>&#123;&#123; config.author &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>未修改之前的效果</p>
<p><img src="http://
7xkpe5.com1.z0.glb.clouddn.com/15163684556026.jpg" alt=""></p>
<h3 id="双更新"><a href="#双更新" class="headerlink" title="双更新"></a>双更新</h3><p>同时在 github 和 coding 上更新，然后根据访问时的 ip 地址跳转到不同的服务上。</p>
<p>下图框中的 a 和 b 为两个库的地址。<br><img src="http://
7xkpe5.com1.z0.glb.clouddn.com/15220743101609.jpg" alt=""></p>
<p>github 项目中相关的地址修改<br><img src="http://
7xkpe5.com1.z0.glb.clouddn.com/15220746073007.jpg" alt=""></p>
<p>最后，域名解析服务中添加如下的解析方式。<br><img src="http://
7xkpe5.com1.z0.glb.clouddn.com/15220746795739.jpg" alt=""></p>
<h3 id="自动备份博客相关的源文件"><a href="#自动备份博客相关的源文件" class="headerlink" title="自动备份博客相关的源文件"></a>自动备份博客相关的源文件</h3><p>参考博文<a href="http://zhujiegao.com/2015/12/06/automatic-backup/" target="_blank" rel="noopener">自动备份Hexo博客源文件 | Jolson’s Blog</a></p>
<hr>
<p>大概这样就完成一个博客的安装和部署，接下来你就可以快乐的写博客。</p>
<h3 id="参考文章："><a href="#参考文章：" class="headerlink" title="参考文章："></a>参考文章：</h3><ul>
<li><a href="http://www.jianshu.com/p/q81RER" target="_blank" rel="noopener">献给写作者的 Markdown 新手指南</a> </li>
<li><a href="http://zipperary.com/2013/05/28/hexo-guide-2/" target="_blank" rel="noopener">hexo系列教程：（二）搭建hexo博客</a></li>
<li><a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">hexo官方网站</a></li>
<li><a href="http://blog.csdn.net/wx_962464/article/details/44786929" target="_blank" rel="noopener">Hexo 使用中遇到的问题总结</a></li>
<li><a href="http://cnfeat.com/2014/05/10/2014-05-11-how-to-build-a-blog/" target="_blank" rel="noopener">如何搭建一个独立博客——简明Github Pages与Hexo教程</a></li>
<li><a href="http://www.arao.me/2015/hexo-next-theme-optimize-base/" target="_blank" rel="noopener">动动手指，NexT主题与Hexo更搭哦（基础篇）</a></li>
<li><a href="http://www.ahonn.me/2016/12/15/create-a-hexo-theme-from-scratch/" target="_blank" rel="noopener">从零开始制作 Hexo 主题</a></li>
<li><a href="http://chensd.com/2016-06/hexo-theme-guide.html?utm_source=tuicool&amp;utm_medium=referral" target="_blank" rel="noopener">Hexo 主题开发指南</a></li>
</ul>

      
    </div>

    
      
      

  <div class="post-copyright">
    <p class="copyright-item">
      <span>Author: </span>
      <a href="http://xiang578.com">RyenX</a>
    </p>
    <p class="copyright-item">
      <span>Link: </span>
      <a href="http://xiang578.com/2015/08/15/how-to-build-a-hexo-blog/">http://xiang578.com/2015/08/15/how-to-build-a-hexo-blog/</a>
    </p>
    <p class="copyright-item">
      <span>License: </span>
      
      <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>
    </p>
  </div>



      
      
    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/blog/">blog</a>
            
              <a href="/tags/hexo/">hexo</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2015/09/13/hdu200/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">杭电OJ AC200题</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2015/08/06/hello-world/">
        <span class="next-text nav-default">System.out.println("hello world!");</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>


      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:i@xiang578.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
        
          <a href="https://twitter.com/xiang578" class="iconfont icon-twitter" title="twitter"></a>
        
      
    
      
        
          <a href="https://www.facebook.com/profile.php?id=100009528134157" class="iconfont icon-facebook" title="facebook"></a>
        
      
    
      
        
          <a href="https://www.linkedin.com/in/%E9%97%B0%E5%86%B6-%E9%A1%B9-a2b708134/" class="iconfont icon-linkedin" title="linkedin"></a>
        
      
    
      
    
      
        
          <a href="https://github.com/xiang578" class="iconfont icon-github" title="github"></a>
        
      
    
      
        
          <a href="https://weibo.com/u/1630193304" class="iconfont icon-weibo" title="weibo"></a>
        
      
    
      
        
          <a href="https://www.zhihu.com/people/xiang578/activities" class="iconfont icon-zhihu" title="zhihu"></a>
        
      
    
      
        
          <a href="https://www.douban.com/people/xiang578/" class="iconfont icon-douban" title="douban"></a>
        
      
    
      
    
      
    
      
    
    
    
      <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>


<div class="copyright">
  <span class="hosted-by-coding-pages">
    Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a>
  </span>
  <br/>
  <span id="busuanzi">
  <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  PV: <span id="busuanzi_value_site_pv"></span> | UV: <span id="busuanzi_value_site_uv"></span>
  </span>
  
  <span class="copyright-year">
    
    &copy; 
     
      2015 - 
    
    2018

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">RyenX</span>
  </span>
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  
  <script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://xiang578.com/2015/08/15/how-to-build-a-hexo-blog/';
        this.page.identifier = '2015/08/15/how-to-build-a-hexo-blog/';
        this.page.title = '从零开始利用 hexo + Github/Coding 搭建个人博客';
    };
    (function() {
    var d = document, s = d.createElement('script');

    s.src = '//xiang578.disqus.com/embed.js';

    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();  
  </script>

  

  



    
  



  
  





  
    <script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  

  
    <script type="text/javascript" src="/lib/pjax/jquery.pjax.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/nprogress/nprogress.min.js"></script>
  


<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


    <script type="text/javascript" src="/js/src/even.js?v=2.8.0"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css" integrity="sha384-TEMocfGvRuD1rIAacqrknm5BQZ7W7uWitoih+jMNFXQIbNl16bO8OZmylH/Vi/Ei" crossorigin="anonymous"><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->

  </body>
</html>
